<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dentistry Quiz Application</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f7fd;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 20px;
            position: relative;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e1e1e1;
        }
        
        h1 {
            color: #2a6496;
            margin-bottom: 10px;
        }
        
        .timer {
            background-color: #2a6496;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #f1f1f1;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
            border: 1px solid #ddd;
            border-bottom: none;
        }
        
        .tab.active {
            background-color: #2a6496;
            color: white;
        }
        
        .welcome-screen, .quiz-screen, .review-screen, .summary-screen {
            padding: 20px;
        }
        
        .welcome-screen {
            text-align: center;
        }
        
        .btn {
            background-color: #2a6496;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #1c4b75;
        }
        
        .question-number {
            font-weight: bold;
            color: #2a6496;
            margin-bottom: 10px;
        }
        
        .question {
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .options {
            margin-bottom: 20px;
        }
        
        .option {
            display: block;
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .option:hover {
            background-color: #e9f0f7;
        }
        
        .option.selected {
            background-color: #d4e6f5;
            border-color: #2a6496;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .nav-btn {
            padding: 10px 20px;
            background-color: #e1e1e1;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .nav-btn:hover {
            background-color: #d1d1d1;
        }
        
        .submit-btn {
            background-color: #28a745;
            color: white;
        }
        
        .submit-btn:hover {
            background-color: #218838;
        }
        
        .review-item {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .correct {
            color: #28a745;
            font-weight: bold;
        }
        
        .incorrect {
            color: #dc3545;
            font-weight: bold;
        }
        
        .explanation {
            margin-top: 10px;
            padding: 10px;
            background-color: #f8f9fa;
            border-left: 4px solid #2a6496;
            font-style: italic;
        }
        
        .summary-screen h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #2a6496;
        }
        
        .score {
            font-size: 24px;
            text-align: center;
            margin: 20px 0;
        }
        
        .topic-summary {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e1e1e1;
            border-radius: 5px;
            margin-top: 5px;
        }
        
        .progress {
            height: 100%;
            background-color: #2a6496;
            border-radius: 5px;
        }
        
        .hidden {
            display: none;
        }
        
        .topic-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Dentistry Knowledge Quiz</h1>
            <p>Test your knowledge of dental morphology and related topics</p>
            <div class="timer" id="timer">50:00</div>
        </header>
        
        <div class="tabs">
            <div class="tab active" data-tab="quiz">Quiz</div>
            <div class="tab" data-tab="review">Review</div>
            <div class="tab" data-tab="summary">Summary</div>
        </div>
        
        <div id="welcome-screen" class="welcome-screen">
            <h2>Welcome to the Dentistry Quiz</h2>
            <p>This quiz contains 100 questions across various dentistry topics including Tooth Morphology, Dental Anatomy, and more.</p>
            <p>You will have 50 minutes to complete the quiz. You can navigate between questions and review your answers before submitting.</p>
            <button class="btn" id="start-btn">Start Quiz</button>
        </div>
        
        <div id="quiz-screen" class="quiz-screen hidden">
            <div class="question-number">Question <span id="current-q">1</span> of 100</div>
            <div class="topic-label">Topic: <span id="question-topic">Tooth Morphology</span></div>
            <div class="question" id="question-text">Which tooth has the longest root in the human dentition?</div>
            
            <div class="options" id="options-container">
                <div class="option" data-index="0">Maxillary central incisor</div>
                <div class="option" data-index="1">Mandibular canine</div>
                <div class="option" data-index="2">Maxillary canine</div>
                <div class="option" data-index="3">Mandibular first molar</div>
            </div>
            
            <div class="navigation">
                <button class="nav-btn" id="prev-btn">Previous</button>
                <button class="nav-btn" id="next-btn">Next</button>
                <button class="nav-btn submit-btn" id="submit-btn">Submit Quiz</button>
            </div>
        </div>
        
        <div id="review-screen" class="review-screen hidden">
            <h2>Review Your Answers</h2>
            <div id="review-questions">
                <!-- Review questions will be inserted here -->
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn" id="back-to-quiz-btn">Back to Quiz</button>
            </div>
        </div>
        
        <div id="summary-screen" class="summary-screen hidden">
            <h2>Quiz Results</h2>
            <div class="score">Your score: <span id="score-value">0</span>/100</div>
            
            <div id="topic-summary">
                <!-- Topic summary will be inserted here -->
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn" id="restart-btn">Restart Quiz</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Quiz data
            const quizData = [
                {
                    question: "Which tooth has the longest root in the human dentition?",
                    options: ["Maxillary central incisor", "Mandibular canine", "Maxillary canine", "Mandibular first molar"],
                    correct: 2,
                    topic: "Tooth Morphology",
                    explanation: "The maxillary canine has the longest root of all teeth in the human dentition. Its root length averages about 17mm, making it the longest single-rooted tooth. This long root provides excellent support and makes the canine a key tooth in dental prosthetics and orthodontics."
                },
                {
                    question: "The mesial cusp ridge is longer than the distal cusp ridge in which tooth?",
                    options: ["Maxillary canine", "Mandibular canine", "Maxillary lateral incisor", "Mandibular central incisor"],
                    correct: 1,
                    topic: "Tooth Morphology",
                    explanation: "In the mandibular canine, the mesial cusp ridge is longer than the distal cusp ridge, which is the opposite of the maxillary canine. This is an important distinguishing feature between upper and lower canines. The mandibular canine's longer mesial ridge gives it a more symmetrical appearance from the facial view compared to the maxillary canine."
                },
                {
                    question: "Which premolar most frequently has two roots?",
                    options: ["Maxillary first premolar", "Maxillary second premolar", "Mandibular first premolar", "Mandibular second premolar"],
                    correct: 0,
                    topic: "Tooth Morphology",
                    explanation: "The maxillary first premolar most frequently has two roots - a buccal and a palatal root. Approximately 60-70% of maxillary first premolars have two roots, making it the premolar most likely to have this anatomy. This is crucial for endodontic treatment planning and extraction procedures."
                },
                {
                    question: "The curve of Spee is:",
                    options: ["A vertical curve", "A transverse curve", "An anteroposterior curve", "A diagonal curve"],
                    correct: 2,
                    topic: "Tooth Morphology",
                    explanation: "The curve of Spee is an anteroposterior curve established by the occlusal alignment of the teeth, as projected upon the frontal plane. It is the anatomical curve established by the occlusal alignment of the teeth, following the mandibular occlusal plane. Understanding this curve is essential in orthodontics and prosthodontics for establishing proper occlusion."
                },
                {
                    question: "Which tooth has a mesial marginal ridge that is more cervically located than the distal marginal ridge?",
                    options: ["Maxillary first premolar", "Mandibular first premolar", "Maxillary second premolar", "Mandibular second premolar"],
                    correct: 1,
                    topic: "Tooth Morphology",
                    explanation: "The mandibular first premolar has a mesial marginal ridge that is located more cervically than the distal marginal ridge. This is a distinctive feature of this tooth and contributes to its characteristic occlusal anatomy. The distal marginal ridge is positioned more incisally, creating an asymmetrical appearance on the occlusal surface."
                }
            ];

            // State variables
            let currentQuestion = 0;
            let selectedAnswer = null;
            let showResult = false;
            let quizStarted = false;
            let timeLeft = 3000; // 50 minutes in seconds
            let userAnswers = {};
            let reviewMode = false;
            let activeTab = 'quiz';
            let timerInterval = null;

            // DOM elements
            const timerElement = document.getElementById('timer');
            const welcomeScreen = document.getElementById('welcome-screen');
            const quizScreen = document.getElementById('quiz-screen');
            const reviewScreen = document.getElementById('review-screen');
            const summaryScreen = document.getElementById('summary-screen');
            const startBtn = document.getElementById('start-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');
            const currentQElement = document.getElementById('current-q');
            const questionTopicElement = document.getElementById('question-topic');
            const questionTextElement = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const reviewQuestionsContainer = document.getElementById('review-questions');
            const backToQuizBtn = document.getElementById('back-to-quiz-btn');
            const scoreValueElement = document.getElementById('score-value');
            const topicSummaryContainer = document.getElementById('topic-summary');
            const restartBtn = document.getElementById('restart-btn');
            const tabs = document.querySelectorAll('.tab');

            // Initialize the quiz
            function initQuiz() {
                updateTimerDisplay();
                loadQuestion();
            }

            // Start the quiz
            function startQuiz() {
                quizStarted = true;
                welcomeScreen.classList.add('hidden');
                quizScreen.classList.remove('hidden');
                
                // Start timer
                timerInterval = setInterval(function() {
                    timeLeft--;
                    updateTimerDisplay();
                    
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        submitQuiz();
                    }
                }, 1000);
            }

            // Update timer display
            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Change color when time is running low
                if (timeLeft < 300) { // 5 minutes
                    timerElement.style.backgroundColor = '#dc3545';
                }
            }

            // Load current question
            function loadQuestion() {
                const question = quizData[currentQuestion];
                currentQElement.textContent = currentQuestion + 1;
                questionTopicElement.textContent = question.topic;
                questionTextElement.textContent = question.question;
                
                // Clear options
                optionsContainer.innerHTML = '';
                
                // Add options
                question.options.forEach((option, index) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    optionElement.textContent = option;
                    optionElement.setAttribute('data-index', index);
                    
                    // Mark if this option was previously selected
                    if (userAnswers[currentQuestion] === index) {
                        optionElement.classList.add('selected');
                    }
                    
                    optionElement.addEventListener('click', function() {
                        selectOption(index);
                    });
                    
                    optionsContainer.appendChild(optionElement);
                });
                
                // Update navigation buttons
                prevBtn.disabled = currentQuestion === 0;
                nextBtn.disabled = currentQuestion === quizData.length - 1;
            }

            // Select an option
            function selectOption(index) {
                // Remove selected class from all options
                const options = optionsContainer.querySelectorAll('.option');
                options.forEach(option => option.classList.remove('selected'));
                
                // Add selected class to clicked option
                options[index].classList.add('selected');
                
                // Store the answer
                userAnswers[currentQuestion] = index;
                selectedAnswer = index;
            }

            // Navigate to next question
            function nextQuestion() {
                if (currentQuestion < quizData.length - 1) {
                    currentQuestion++;
                    loadQuestion();
                }
            }

            // Navigate to previous question
            function prevQuestion() {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    loadQuestion();
                }
            }

            // Submit the quiz
            function submitQuiz() {
                clearInterval(timerInterval);
                showResult = true;
                calculateScore();
                showSummary();
            }

            // Calculate score
            function calculateScore() {
                let score = 0;
                for (let i = 0; i < quizData.length; i++) {
                    if (userAnswers[i] === quizData[i].correct) {
                        score++;
                    }
                }
                return score;
            }

            // Show summary screen
            function showSummary() {
                const score = calculateScore();
                scoreValueElement.textContent = score;
                
                // Calculate topic-wise scores
                const topicScores = {};
                const topicCounts = {};
                
                quizData.forEach(question => {
                    if (!topicScores[question.topic]) {
                        topicScores[question.topic] = 0;
                        topicCounts[question.topic] = 0;
                    }
                    topicCounts[question.topic]++;
                });
                
                for (let i = 0; i < quizData.length; i++) {
                    if (userAnswers[i] === quizData[i].correct) {
                        topicScores[quizData[i].topic]++;
                    }
                }
                
                // Display topic summary
                topicSummaryContainer.innerHTML = '';
                for (const topic in topicScores) {
                    const percentage = Math.round((topicScores[topic] / topicCounts[topic]) * 100);
                    
                    const topicElement = document.createElement('div');
                    topicElement.className = 'topic-summary';
                    topicElement.innerHTML = `
                        <div><strong>${topic}</strong>: ${topicScores[topic]} out of ${topicCounts[topic]} (${percentage}%)</div>
                        <div class="progress-bar">
                            <div class="progress" style="width: ${percentage}%"></div>
                        </div>
                    `;
                    
                    topicSummaryContainer.appendChild(topicElement);
                }
                
                // Show summary screen
                quizScreen.classList.add('hidden');
                summaryScreen.classList.remove('hidden');
                setActiveTab('summary');
            }

            // Show review screen
            function showReview() {
                reviewQuestionsContainer.innerHTML = '';
                
                quizData.forEach((question, index) => {
                    const userAnswer = userAnswers[index];
                    const isCorrect = userAnswer === question.correct;
                    
                    const reviewItem = document.createElement('div');
                    reviewItem.className = 'review-item';
                    reviewItem.innerHTML = `
                        <div class="question-number">Question ${index + 1}</div>
                        <div class="topic-label">Topic: ${question.topic}</div>
                        <div class="question">${question.question}</div>
                        <div class="${isCorrect ? 'correct' : 'incorrect'}">
                            Your answer: ${userAnswer !== undefined ? question.options[userAnswer] : 'Not answered'}
                            ${isCorrect ? ' (Correct)' : ' (Incorrect)'}
                        </div>
                        <div class="correct">Correct answer: ${question.options[question.correct]}</div>
                        <div class="explanation">${question.explanation}</div>
                    `;
                    
                    reviewQuestionsContainer.appendChild(reviewItem);
                });
                
                quizScreen.classList.add('hidden');
                reviewScreen.classList.remove('hidden');
            }

            // Set active tab
            function setActiveTab(tab) {
                activeTab = tab;
                
                // Update tab UI
                tabs.forEach(tabElement => {
                    if (tabElement.getAttribute('data-tab') === tab) {
                        tabElement.classList.add('active');
                    } else {
                        tabElement.classList.remove('active');
                    }
                });
                
                // Show appropriate screen
                if (tab === 'quiz') {
                    reviewScreen.classList.add('hidden');
                    summaryScreen.classList.add('hidden');
                    quizScreen.classList.remove('hidden');
                } else if (tab === 'review') {
                    quizScreen.classList.add('hidden');
                    summaryScreen.classList.add('hidden');
                    reviewScreen.classList.remove('hidden');
                    showReview();
                } else if (tab === 'summary') {
                    quizScreen.classList.add('hidden');
                    reviewScreen.classList.add('hidden');
                    summaryScreen.classList.remove('hidden');
                }
            }

            // Event listeners
            startBtn.addEventListener('click', startQuiz);
            prevBtn.addEventListener('click', prevQuestion);
            nextBtn.addEventListener('click', nextQuestion);
            submitBtn.addEventListener('click', submitQuiz);
            backToQuizBtn.addEventListener('click', function() {
                setActiveTab('quiz');
            });
            restartBtn.addEventListener('click', function() {
                // Reset state
                currentQuestion = 0;
                selectedAnswer = null;
                showResult = false;
                quizStarted = false;
                timeLeft = 3000;
                userAnswers = {};
                
                // Reset UI
                welcomeScreen.classList.remove('hidden');
                summaryScreen.classList.add('hidden');
                setActiveTab('quiz');
                updateTimerDisplay();
            });
            
            // Tab click event listeners
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    if (quizStarted || this.getAttribute('data-tab') === 'quiz') {
                        setActiveTab(this.getAttribute('data-tab'));
                    }
                });
            });

            // Initialize the quiz
            initQuiz();
        });
    </script>
</body>
</html>
